<!doctype html><html lang=en dir=auto data-theme=light><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>MetaDAO Launchpad Query Notes (Dune/ TrinoSQL) | Kai — DeFi Research</title><meta name=keywords content><meta name=description content="
While building the MetaDAO dashboard at Blocmates, @563defi and I spent some time digging into MetaDAO&rsquo;s launchpad program to understand the existing Dune queries, build on them, and create new ones.
These are my notes, which I will be referring back to as I verify & build out more queries on MetaDAO&rsquo;s activity. This can also be used as context to feed to an LLM for generating simple queries."><meta name=author content><link rel=canonical href=https://defi-kai.github.io/kai-site/data/metadao-launchpad-query-notes/><link crossorigin=anonymous href=/kai-site/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://defi-kai.github.io/kai-site/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://defi-kai.github.io/kai-site/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://defi-kai.github.io/kai-site/favicon-32x32.png><link rel=apple-touch-icon href=https://defi-kai.github.io/kai-site/apple-touch-icon.png><link rel=mask-icon href=https://defi-kai.github.io/kai-site/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://defi-kai.github.io/kai-site/data/metadao-launchpad-query-notes/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"&&(document.querySelector("html").dataset.theme="dark")</script><meta property="og:url" content="https://defi-kai.github.io/kai-site/data/metadao-launchpad-query-notes/"><meta property="og:site_name" content="Kai — DeFi Research"><meta property="og:title" content="MetaDAO Launchpad Query Notes (Dune/ TrinoSQL)"><meta property="og:description" content="
While building the MetaDAO dashboard at Blocmates, @563defi and I spent some time digging into MetaDAO’s launchpad program to understand the existing Dune queries, build on them, and create new ones.
These are my notes, which I will be referring back to as I verify & build out more queries on MetaDAO’s activity. This can also be used as context to feed to an LLM for generating simple queries."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="data"><meta property="article:published_time" content="2026-01-24T09:00:00-05:00"><meta property="article:modified_time" content="2026-01-24T09:00:00-05:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="MetaDAO Launchpad Query Notes (Dune/ TrinoSQL)"><meta name=twitter:description content="
While building the MetaDAO dashboard at Blocmates, @563defi and I spent some time digging into MetaDAO&rsquo;s launchpad program to understand the existing Dune queries, build on them, and create new ones.
These are my notes, which I will be referring back to as I verify & build out more queries on MetaDAO&rsquo;s activity. This can also be used as context to feed to an LLM for generating simple queries."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Data","item":"https://defi-kai.github.io/kai-site/data/"},{"@type":"ListItem","position":2,"name":"MetaDAO Launchpad Query Notes (Dune/ TrinoSQL)","item":"https://defi-kai.github.io/kai-site/data/metadao-launchpad-query-notes/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"MetaDAO Launchpad Query Notes (Dune/ TrinoSQL)","name":"MetaDAO Launchpad Query Notes (Dune\/ TrinoSQL)","description":"\nWhile building the MetaDAO dashboard at Blocmates, @563defi and I spent some time digging into MetaDAO\u0026rsquo;s launchpad program to understand the existing Dune queries, build on them, and create new ones.\nThese are my notes, which I will be referring back to as I verify \u0026amp; build out more queries on MetaDAO\u0026rsquo;s activity. This can also be used as context to feed to an LLM for generating simple queries.\n","keywords":[],"articleBody":"\nWhile building the MetaDAO dashboard at Blocmates, @563defi and I spent some time digging into MetaDAO’s launchpad program to understand the existing Dune queries, build on them, and create new ones.\nThese are my notes, which I will be referring back to as I verify \u0026 build out more queries on MetaDAO’s activity. This can also be used as context to feed to an LLM for generating simple queries.\nHopefully this helps you understand the program structure and verify your queries are pulling the right data.\nOverview MetaDAO uses the launchpad program to run token presales. Users commit USDC, and after the raise closes, they claim their token allocation (plus refunds if oversubscribed). If the raise is successful, the program creates two liquidity pools, and transfers the remaining USDC to the project’s treasury.\nInstructions Covered The launchpad_v7 program contains nine instructions, but this document will only cover the following instructions:\nInstruction Description initializeLaunch Stages the launch onchain, minting token, and creating the necessary accounts for state and transfers fund User commits USDC to a raise CompleteLaunch Authority closes raise, triggers AMM pool creation and treasury funding claim User receives token allocation refund User claims refund When a launch is initiated, the program creates the necessary accounts for state management and transfers. You should pay special attention to two of these accounts: launchSigner and launch.\nThe launchSigner account serves as the authority for fund commitments, claims, and refunds throughout the sale.\nMeanwhile, the launch account stores configuration and state, tracking details like totalCommittedAmount, and secondsForLaunch. More importantly, the launch account appears at position 1 in every instruction, making it the key filter for querying a specific raise.\nProgram IDs Version Program ID v0.7.0 moontUzsdepotRGe5xsfip7vLPTJnVuafqdUWexVnPM v0.6.0 MooNyh4CBUYEKyXVnjGYQ8mEiJDpGvJMdvrZx1iGeHV v0.5.0 mooNhciQJi1LqHDmse2JPic2NqG2PXCanbE3ZYzP3qA v5, v6, and v7 share the same instruction structure and all queries in this doc work across versions by including each program ID in your filter. However, the event data emitted on-chain differs slightly between versions and isn’t covered here.\nHow Queries Work Each instruction in the launchpad program can be identified using Dune’s solana.instruction_calls table by filtering on:\nProgram ID (executing_account) - the launchpad program address(es) 8-byte discriminator - the first 8 bytes of the instruction data, unique to each instruction type Account arguments - accounts at specific positions identify the launch, funder, and other relevant addresses Instruction Breakdown initializeLaunch The initializeLaunch instruction stages the launch onchain by minting the token and creating the necessary accounts for state management and transfers.\nDiscriminator: Bytes Value 1-8 5ac9dc8e70fd640d WHERE bytearray_substring(data, 1, 8) = 0x5ac9dc8e70fd640d Account Positions: Position Account SQL Description 1 launch account_arguments[1] PDA storing launch configuration and state 2 Base Mint account_arguments[2] Mint address of the token being sold 4 launch Signer account_arguments[4] Authority wallet for fund transfers Instruction Data: Value Bytes Type Description minimumRaiseAmount 9-16 u64 (little-endian) Minimum USDC that must be raised for launch to succeed monthlySpendingLimitAmount 17-24 u64 (little-endian) Maximum USDC the treasury can spend per month performancePackageTokenAmount 224-231 u64 (little-endian) Token allocation reserved for performance incentives monthsUntilInsidersCanUnlock 232 u8 Lockup period before insiders can access tokens Decoded:\n-- minimumRaiseAmount (bytes 9-16, u64) bytearray_to_uint256(bytearray_reverse(bytearray_substring(data, 9, 8))) / 1e6 AS minimum_raise_amount -- monthlySpendingLimitAmount (bytes 17-24, u64) bytearray_to_uint256(bytearray_reverse(bytearray_substring(data, 17, 8))) / 1e6 AS monthly_spending_limit -- performancePackageTokenAmount (bytes 224-231, u64) bytearray_to_uint256(bytearray_reverse(bytearray_substring(data, 224, 8))) / 1e6 AS performance_package_token_amount -- monthsUntilInsidersCanUnlock (byte 232, u8 - single byte, no reverse needed) bytearray_to_uint256(bytearray_substring(data, 232, 1)) AS months_until_insiders_can_unlock Example: https://solscan.io/tx/2fbjgAiRnGShdmtkEc6UTA3EzXsuSk7omtu499F9vPE3M8rEo9ux6HHN7CriXTN554wpnU2aHpxedJTLcq6VQJWQ https://solscan.io/tx/3WsHz8iCgeq4VLapPtJGyyccSiPPpc4BYRc4g5GKNQAnEVzRGu1hjuwR4ujBbBXLQLtx3aEW4vzrnuhXxy1S2pPs\nFund When a user commits USDC to a raise, they call the fund instruction.\nDiscriminator: Bytes Value 1-8 dabc6fdd9871ae07 WHERE bytearray_substring(data, 1, 8) = 0xdabc6fdd9871ae07 Account Positions: Position Account SQL Description 1 launch account_arguments[1] PDA storing launch configuration and state 3 launchSigner account_arguments[3] Authority wallet for fund transfers 5 funder account_arguments[5] Wallet address of the user committing funds Instruction Data: Value Bytes Type Description amount 9-16 u64 (little-endian) USDC amount committed by the user Decoded:\nbytearray_to_uint256(bytearray_reverse(bytearray_substring(data, 9, 8))) / 1e6 AS usdc_amount Example: Transaction Ty9tEwqASApmCLWodJkkoS5bEREp9VggTniVqGU4X769tvSHth6165qPzSD3xcg2HJSzercLS2vYAAuLbMhByoo\nComplete Launch Once a raise succeeds, the completeLaunch instruction signals the conclusion of a raise, creates liquidity pools on Futarchy AMM and Meteora DAMM v2, and seeds the project’s treasury (Squads Multisig Vault).\nDiscriminator: Bytes Value 1-8 76cffa822c94fbed WHERE bytearray_substring(data, 1, 8) = 0x76cffa822c94fbed Account Positions: Position Account SQL Description 1 launch account_arguments[1] PDA storing launch configuration and state 5 launchSigner account_arguments[5] Authority wallet for fund transfers 14 Dao (Futarchy AMM pool) account_arguments[14] Futarchy AMM liquidity pool (Token-USDC) 16 Squads Multisig Vault account_arguments[16] Project treasury controlled by the DAO 36 Meteora Accounts Pool (Meteora DAMM v2 pool) account_arguments[36] Meteora DAMM v2 liquidity pool (Token) Claim When a raise completes, the claim instruction is triggered to send tokens to participants’ wallets.\nDiscriminator: Bytes Value 1-8 3ec6d6c1d59f6cd2 WHERE bytearray_substring(data, 1, 8) = 0x3ec6d6c1d59f6cd2 Account Positions: Position Account SQL Description 1 launch account_arguments[1] PDA storing launch configuration and state 3 launchSigner account_arguments[3] Authority wallet for fund transfers 6 funder account_arguments[6] Wallet address of the user claiming funds Instruction Data: The claim value is located in the second inner instruction’s data payload. You can filter these inner instructions using their 8-byte discriminator.\nDiscriminator for claim inner instruction:\nBytes Value 1-8 e445a52e51cb9a1d Claimed token amount:\nValue Bytes Type Description tokensClaimed 105-112 u64 (little-endian) Claimed token amount Decoded:\nTo query claim instructions, create two CTEs:\nCapture claim instructions by filtering on discriminator 3ec6d6c1d59f6cd2 Capture inner instructions containing the token amount by filtering on discriminator e445a52e51cb9a1d Join on tx_id and outer_instruction_index to match events to their parent instructions.\nHere’s an example forked from @adam_tehc:\nhttps://dune.com/queries/6529959?sidebar=none\nExample: Transaction 2aFDEAGW8gRTFBks8pf56ENibg4HQbSYev4enw4rqcaHUiDMLV4SL3REPFK4zYiLRQngCLKsYXvRSzdQvChSqTYG\nRefund When a raise is oversubscribed, the refund instruction returns excess USDC to participants.\nDiscriminator: Bytes Value 1-8 0260b7fb3fd02e2e WHERE bytearray_substring(data, 1, 8) = 0x0260b7fb3fd02e2e Account Positions: Position Account SQL Description 1 launch account_arguments[1] PDA storing launch configuration and state 4 launchSigner account_arguments[4] Authority wallet for fund transfers 5 funder account_arguments[5] Wallet address of the user Instruction Data: The refunded value is located in the second inner instruction’s data payload. You can filter these inner instructions using the data’s 8-byte discriminator.\nDiscriminator for inner instruction:\nBytes Value 1-8 e445a52e51cb9a1d Refunded USDC value:\nValue Bytes Type Description usdcRefunded 105-112 u64 (little-endian) USDC amount Decoded:\nTo query refund instructions, create two CTEs:\nCapture refund instructions by filtering on discriminator 0260b7fb3fd02e2e Capture inner instructions containing the token amount by filtering on discriminator e445a52e51cb9a1d Join on tx_id and outer_instruction_index to match events to their parent instructions.\nExample: Transaction zwtWBrKobmdpY5ZPW5vdLyd2KFByyipYdij8jtB8g8V7CgTXzq5DQBExbqujQQhd8vCrBJmvMDyja5NaR9naxuH\nTransaction zdrYEdQQrP2C8XDGkY8M9LgNLLUX54yFJGWVoMPaxWMYJBN5tRrDagDzaF6ZdP7raYmLjm7N5i8Nug9VamVwbnR\n","wordCount":"1056","inLanguage":"en","datePublished":"2026-01-24T09:00:00-05:00","dateModified":"2026-01-24T09:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://defi-kai.github.io/kai-site/data/metadao-launchpad-query-notes/"},"publisher":{"@type":"Organization","name":"Kai — DeFi Research","logo":{"@type":"ImageObject","url":"https://defi-kai.github.io/kai-site/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://defi-kai.github.io/kai-site/ accesskey=h title="Kai — DeFi Research (Alt + H)">Kai — DeFi Research</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://defi-kai.github.io/kai-site/data/ title=Data><span>Data</span></a></li><li><a href=https://defi-kai.github.io/kai-site/research/ title=Research><span>Research</span></a></li><li><a href=https://defi-kai.github.io/kai-site/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://defi-kai.github.io/kai-site/>Home</a>&nbsp;»&nbsp;<a href=https://defi-kai.github.io/kai-site/data/>Data</a></div><h1 class="post-title entry-hint-parent">MetaDAO Launchpad Query Notes (Dune/ TrinoSQL)</h1><div class=post-meta><span title='2026-01-24 09:00:00 -0500 -0500'>January 24, 2026</span>&nbsp;·&nbsp;<span>5 min</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#overview>Overview</a><ul><li><a href=#instructions-covered>Instructions Covered</a></li><li><a href=#program-ids>Program IDs</a></li><li><a href=#how-queries-work>How Queries Work</a></li></ul></li><li><a href=#instruction-breakdown>Instruction Breakdown</a><ul><li><a href=#initializelaunch>initializeLaunch</a></li><li><a href=#fund>Fund</a></li><li><a href=#complete-launch>Complete Launch</a></li><li><a href=#claim>Claim</a></li><li><a href=#refund>Refund</a></li></ul></li></ul></nav></div></details></div><div class=post-content><p><img alt="MetaDAO launch architecture" loading=lazy src=/kai-site/data/metadao-launchpad-query-notes/images/MetaDAO_launch_architecture_diagram.excalidraw.png></p><p>While building the <a href=https://dune.com/blocmates_research/metadao-blocmates-pro>MetaDAO dashboard</a> at Blocmates, <a href=https://x.com/563defi>@563defi</a> and I spent some time digging into MetaDAO&rsquo;s launchpad program to understand the existing Dune queries, build on them, and create new ones.</p><p>These are my notes, which I will be referring back to as I verify & build out more queries on MetaDAO&rsquo;s activity. This can also be used as context to feed to an LLM for generating simple queries.</p><p>Hopefully this helps you understand the program structure and verify your queries are pulling the right data.</p><h2 id=overview>Overview<a hidden class=anchor aria-hidden=true href=#overview>#</a></h2><p>MetaDAO uses the launchpad program to run token presales. Users commit USDC, and after the raise closes, they claim their token allocation (plus refunds if oversubscribed). If the raise is successful, the program creates two liquidity pools, and transfers the remaining USDC to the project&rsquo;s treasury.</p><h3 id=instructions-covered>Instructions Covered<a hidden class=anchor aria-hidden=true href=#instructions-covered>#</a></h3><p>The <code>launchpad_v7</code> program contains nine instructions, but this document will only cover the following instructions:</p><table><thead><tr><th>Instruction</th><th>Description</th></tr></thead><tbody><tr><td><code>initializeLaunch</code></td><td>Stages the launch onchain, minting token, and creating the necessary accounts for state and transfers</td></tr><tr><td><code>fund</code></td><td>User commits USDC to a raise</td></tr><tr><td><code>CompleteLaunch</code></td><td>Authority closes raise, triggers AMM pool creation and treasury funding</td></tr><tr><td><code>claim</code></td><td>User receives token allocation</td></tr><tr><td><code>refund</code></td><td>User claims refund</td></tr></tbody></table><p>When a launch is initiated, the program creates the necessary accounts for state management and transfers. You should pay special attention to two of these accounts: <code>launchSigner</code> and <code>launch</code>.</p><p>The <code>launchSigner</code> account serves as the authority for fund commitments, claims, and refunds throughout the sale.</p><p><img alt="MetaDAO launch architecture" loading=lazy src=/kai-site/data/metadao-launchpad-query-notes/images/MetaDAO_launch_architecture_diagram.excalidraw.png></p><p>Meanwhile, the <code>launch</code> account stores configuration and state, tracking details like <code>totalCommittedAmount</code>, and <code>secondsForLaunch</code>. <strong>More importantly, the launch account appears at position 1 in every instruction, making it the key filter for querying a specific raise.</strong></p><h3 id=program-ids>Program IDs<a hidden class=anchor aria-hidden=true href=#program-ids>#</a></h3><table><thead><tr><th>Version</th><th>Program ID</th></tr></thead><tbody><tr><td>v0.7.0</td><td><code>moontUzsdepotRGe5xsfip7vLPTJnVuafqdUWexVnPM</code></td></tr><tr><td>v0.6.0</td><td><code>MooNyh4CBUYEKyXVnjGYQ8mEiJDpGvJMdvrZx1iGeHV</code></td></tr><tr><td>v0.5.0</td><td><code>mooNhciQJi1LqHDmse2JPic2NqG2PXCanbE3ZYzP3qA</code></td></tr></tbody></table><p><em>v5, v6, and v7 share the same instruction structure and all queries in this doc work across versions by including each program ID in your filter. However, the event data emitted on-chain differs slightly between versions and isn&rsquo;t covered here.</em></p><h3 id=how-queries-work>How Queries Work<a hidden class=anchor aria-hidden=true href=#how-queries-work>#</a></h3><p>Each instruction in the launchpad program can be identified using Dune&rsquo;s <code>solana.instruction_calls</code> table by filtering on:</p><ol><li><strong>Program ID</strong> (<code>executing_account</code>) - the launchpad program address(es)</li><li><strong>8-byte discriminator</strong> - the first 8 bytes of the instruction data, unique to each instruction type</li><li><strong>Account arguments</strong> - accounts at specific positions identify the launch, funder, and other relevant addresses</li></ol><h2 id=instruction-breakdown>Instruction Breakdown<a hidden class=anchor aria-hidden=true href=#instruction-breakdown>#</a></h2><h3 id=initializelaunch>initializeLaunch<a hidden class=anchor aria-hidden=true href=#initializelaunch>#</a></h3><p>The <code>initializeLaunch</code> instruction stages the launch onchain by minting the token and creating the necessary accounts for state management and transfers.</p><h4 id=discriminator>Discriminator:<a hidden class=anchor aria-hidden=true href=#discriminator>#</a></h4><table><thead><tr><th>Bytes</th><th>Value</th></tr></thead><tbody><tr><td>1-8</td><td><code>5ac9dc8e70fd640d</code></td></tr></tbody></table><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-SQL data-lang=SQL><span style=display:flex><span><span style=color:#66d9ef>WHERE</span> bytearray_substring(<span style=color:#66d9ef>data</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>8</span>) <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>x5ac9dc8e70fd640d
</span></span></code></pre></div><h4 id=account-positions>Account Positions:<a hidden class=anchor aria-hidden=true href=#account-positions>#</a></h4><table><thead><tr><th>Position</th><th>Account</th><th>SQL</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td>launch</td><td><code>account_arguments[1]</code></td><td>PDA storing launch configuration and state</td></tr><tr><td>2</td><td>Base Mint</td><td><code>account_arguments[2]</code></td><td>Mint address of the token being sold</td></tr><tr><td>4</td><td>launch Signer</td><td><code>account_arguments[4]</code></td><td>Authority wallet for fund transfers</td></tr></tbody></table><h4 id=instruction-data>Instruction Data:<a hidden class=anchor aria-hidden=true href=#instruction-data>#</a></h4><table><thead><tr><th>Value</th><th>Bytes</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>minimumRaiseAmount</td><td>9-16</td><td>u64 (little-endian)</td><td>Minimum USDC that must be raised for launch to succeed</td></tr><tr><td>monthlySpendingLimitAmount</td><td>17-24</td><td>u64 (little-endian)</td><td>Maximum USDC the treasury can spend per month</td></tr><tr><td>performancePackageTokenAmount</td><td>224-231</td><td>u64 (little-endian)</td><td>Token allocation reserved for performance incentives</td></tr><tr><td>monthsUntilInsidersCanUnlock</td><td>232</td><td>u8</td><td>Lockup period before insiders can access tokens</td></tr></tbody></table><p><em>Decoded</em>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-SQL data-lang=SQL><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- minimumRaiseAmount (bytes 9-16, u64)
</span></span></span><span style=display:flex><span>bytearray_to_uint256(bytearray_reverse(bytearray_substring(<span style=color:#66d9ef>data</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>8</span>))) <span style=color:#f92672>/</span> <span style=color:#ae81ff>1</span>e6 <span style=color:#66d9ef>AS</span> minimum_raise_amount
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- monthlySpendingLimitAmount (bytes 17-24, u64)
</span></span></span><span style=display:flex><span>bytearray_to_uint256(bytearray_reverse(bytearray_substring(<span style=color:#66d9ef>data</span>, <span style=color:#ae81ff>17</span>, <span style=color:#ae81ff>8</span>))) <span style=color:#f92672>/</span> <span style=color:#ae81ff>1</span>e6 <span style=color:#66d9ef>AS</span> monthly_spending_limit
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- performancePackageTokenAmount (bytes 224-231, u64)
</span></span></span><span style=display:flex><span>bytearray_to_uint256(bytearray_reverse(bytearray_substring(<span style=color:#66d9ef>data</span>, <span style=color:#ae81ff>224</span>, <span style=color:#ae81ff>8</span>))) <span style=color:#f92672>/</span> <span style=color:#ae81ff>1</span>e6 <span style=color:#66d9ef>AS</span> performance_package_token_amount
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- monthsUntilInsidersCanUnlock (byte 232, u8 - single byte, no reverse needed)
</span></span></span><span style=display:flex><span>bytearray_to_uint256(bytearray_substring(<span style=color:#66d9ef>data</span>, <span style=color:#ae81ff>232</span>, <span style=color:#ae81ff>1</span>)) <span style=color:#66d9ef>AS</span> months_until_insiders_can_unlock
</span></span></code></pre></div><p><strong>Example:</strong>
<a href=https://solscan.io/tx/2fbjgAiRnGShdmtkEc6UTA3EzXsuSk7omtu499F9vPE3M8rEo9ux6HHN7CriXTN554wpnU2aHpxedJTLcq6VQJWQ>https://solscan.io/tx/2fbjgAiRnGShdmtkEc6UTA3EzXsuSk7omtu499F9vPE3M8rEo9ux6HHN7CriXTN554wpnU2aHpxedJTLcq6VQJWQ</a>
<a href=https://solscan.io/tx/3WsHz8iCgeq4VLapPtJGyyccSiPPpc4BYRc4g5GKNQAnEVzRGu1hjuwR4ujBbBXLQLtx3aEW4vzrnuhXxy1S2pPs>https://solscan.io/tx/3WsHz8iCgeq4VLapPtJGyyccSiPPpc4BYRc4g5GKNQAnEVzRGu1hjuwR4ujBbBXLQLtx3aEW4vzrnuhXxy1S2pPs</a></p><h3 id=fund>Fund<a hidden class=anchor aria-hidden=true href=#fund>#</a></h3><p>When a user commits USDC to a raise, they call the <code>fund</code> instruction.</p><h4 id=discriminator-1>Discriminator:<a hidden class=anchor aria-hidden=true href=#discriminator-1>#</a></h4><table><thead><tr><th>Bytes</th><th>Value</th></tr></thead><tbody><tr><td>1-8</td><td><code>dabc6fdd9871ae07</code></td></tr></tbody></table><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-SQL data-lang=SQL><span style=display:flex><span><span style=color:#66d9ef>WHERE</span> bytearray_substring(<span style=color:#66d9ef>data</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>8</span>) <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>xdabc6fdd9871ae07
</span></span></code></pre></div><h4 id=account-positions-1>Account Positions:<a hidden class=anchor aria-hidden=true href=#account-positions-1>#</a></h4><table><thead><tr><th>Position</th><th>Account</th><th>SQL</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td>launch</td><td><code>account_arguments[1]</code></td><td>PDA storing launch configuration and state</td></tr><tr><td>3</td><td>launchSigner</td><td><code>account_arguments[3]</code></td><td>Authority wallet for fund transfers</td></tr><tr><td>5</td><td>funder</td><td><code>account_arguments[5]</code></td><td>Wallet address of the user committing funds</td></tr></tbody></table><h4 id=instruction-data-1>Instruction Data:<a hidden class=anchor aria-hidden=true href=#instruction-data-1>#</a></h4><table><thead><tr><th>Value</th><th>Bytes</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>amount</td><td>9-16</td><td>u64 (little-endian)</td><td>USDC amount committed by the user</td></tr></tbody></table><p><em>Decoded</em>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-SQL data-lang=SQL><span style=display:flex><span>bytearray_to_uint256(bytearray_reverse(bytearray_substring(<span style=color:#66d9ef>data</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>8</span>))) <span style=color:#f92672>/</span> <span style=color:#ae81ff>1</span>e6 <span style=color:#66d9ef>AS</span> usdc_amount
</span></span></code></pre></div><p><strong>Example:</strong>
<a href=https://solscan.io/tx/Ty9tEwqASApmCLWodJkkoS5bEREp9VggTniVqGU4X769tvSHth6165qPzSD3xcg2HJSzercLS2vYAAuLbMhByoo>Transaction Ty9tEwqASApmCLWodJkkoS5bEREp9VggTniVqGU4X769tvSHth6165qPzSD3xcg2HJSzercLS2vYAAuLbMhByoo</a></p><h3 id=complete-launch>Complete Launch<a hidden class=anchor aria-hidden=true href=#complete-launch>#</a></h3><p>Once a raise succeeds, the <code>completeLaunch</code> instruction signals the conclusion of a raise, creates liquidity pools on Futarchy AMM and Meteora DAMM v2, and seeds the project&rsquo;s treasury (Squads Multisig Vault).</p><h4 id=discriminator-2>Discriminator:<a hidden class=anchor aria-hidden=true href=#discriminator-2>#</a></h4><table><thead><tr><th>Bytes</th><th>Value</th></tr></thead><tbody><tr><td>1-8</td><td><code>76cffa822c94fbed</code></td></tr></tbody></table><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-SQL data-lang=SQL><span style=display:flex><span><span style=color:#66d9ef>WHERE</span> bytearray_substring(<span style=color:#66d9ef>data</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>8</span>) <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>x76cffa822c94fbed
</span></span></code></pre></div><h4 id=account-positions-2>Account Positions:<a hidden class=anchor aria-hidden=true href=#account-positions-2>#</a></h4><table><thead><tr><th>Position</th><th>Account</th><th>SQL</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td>launch</td><td><code>account_arguments[1]</code></td><td>PDA storing launch configuration and state</td></tr><tr><td>5</td><td>launchSigner</td><td><code>account_arguments[5]</code></td><td>Authority wallet for fund transfers</td></tr><tr><td>14</td><td>Dao (Futarchy AMM pool)</td><td><code>account_arguments[14]</code></td><td>Futarchy AMM liquidity pool (Token-USDC)</td></tr><tr><td>16</td><td>Squads Multisig Vault</td><td><code>account_arguments[16]</code></td><td>Project treasury controlled by the DAO</td></tr><tr><td>36</td><td>Meteora Accounts Pool (Meteora DAMM v2 pool)</td><td><code>account_arguments[36]</code></td><td>Meteora DAMM v2 liquidity pool (Token)</td></tr></tbody></table><h3 id=claim>Claim<a hidden class=anchor aria-hidden=true href=#claim>#</a></h3><p>When a raise completes, the <code>claim</code> instruction is triggered to send tokens to participants&rsquo; wallets.</p><h4 id=discriminator-3>Discriminator:<a hidden class=anchor aria-hidden=true href=#discriminator-3>#</a></h4><table><thead><tr><th>Bytes</th><th>Value</th></tr></thead><tbody><tr><td>1-8</td><td><code>3ec6d6c1d59f6cd2</code></td></tr></tbody></table><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-SQL data-lang=SQL><span style=display:flex><span><span style=color:#66d9ef>WHERE</span> bytearray_substring(<span style=color:#66d9ef>data</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>8</span>) <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>x3ec6d6c1d59f6cd2
</span></span></code></pre></div><h4 id=account-positions-3>Account Positions:<a hidden class=anchor aria-hidden=true href=#account-positions-3>#</a></h4><table><thead><tr><th>Position</th><th>Account</th><th>SQL</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td>launch</td><td><code>account_arguments[1]</code></td><td>PDA storing launch configuration and state</td></tr><tr><td>3</td><td>launchSigner</td><td><code>account_arguments[3]</code></td><td>Authority wallet for fund transfers</td></tr><tr><td>6</td><td>funder</td><td><code>account_arguments[6]</code></td><td>Wallet address of the user claiming funds</td></tr></tbody></table><h4 id=instruction-data-2>Instruction Data:<a hidden class=anchor aria-hidden=true href=#instruction-data-2>#</a></h4><p>The claim value is located in the second inner instruction&rsquo;s data payload. You can filter these inner instructions using their 8-byte discriminator.</p><p><img alt="Claim instruction inner data" loading=lazy src=/kai-site/data/metadao-launchpad-query-notes/images/SC_1.png></p><p><strong>Discriminator for claim inner instruction:</strong></p><table><thead><tr><th>Bytes</th><th>Value</th></tr></thead><tbody><tr><td>1-8</td><td><code>e445a52e51cb9a1d</code></td></tr></tbody></table><p><strong>Claimed token amount:</strong></p><table><thead><tr><th>Value</th><th>Bytes</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>tokensClaimed</td><td>105-112</td><td>u64 (little-endian)</td><td>Claimed token amount</td></tr></tbody></table><p><em>Decoded</em>:</p><p>To query claim instructions, create two CTEs:</p><ol><li>Capture claim instructions by filtering on discriminator <code>3ec6d6c1d59f6cd2</code></li><li>Capture inner instructions containing the token amount by filtering on discriminator <code>e445a52e51cb9a1d</code></li></ol><p>Join on <code>tx_id</code> and <code>outer_instruction_index</code> to match events to their parent instructions.</p><p>Here&rsquo;s an example forked from <a href=https://dune.com/adam_tehc>@adam_tehc</a>:</p><p><img alt="Claim query example" loading=lazy src=/kai-site/data/metadao-launchpad-query-notes/images/SC_2.png></p><p><a href="https://dune.com/queries/6529959?sidebar=none">https://dune.com/queries/6529959?sidebar=none</a></p><p><strong>Example:</strong>
<a href=https://solscan.io/tx/2aFDEAGW8gRTFBks8pf56ENibg4HQbSYev4enw4rqcaHUiDMLV4SL3REPFK4zYiLRQngCLKsYXvRSzdQvChSqTYG>Transaction 2aFDEAGW8gRTFBks8pf56ENibg4HQbSYev4enw4rqcaHUiDMLV4SL3REPFK4zYiLRQngCLKsYXvRSzdQvChSqTYG</a></p><h3 id=refund>Refund<a hidden class=anchor aria-hidden=true href=#refund>#</a></h3><p>When a raise is oversubscribed, the <code>refund</code> instruction returns excess USDC to participants.</p><h4 id=discriminator-4>Discriminator:<a hidden class=anchor aria-hidden=true href=#discriminator-4>#</a></h4><table><thead><tr><th>Bytes</th><th>Value</th></tr></thead><tbody><tr><td>1-8</td><td><code>0260b7fb3fd02e2e</code></td></tr></tbody></table><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-SQL data-lang=SQL><span style=display:flex><span><span style=color:#66d9ef>WHERE</span> bytearray_substring(<span style=color:#66d9ef>data</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>8</span>) <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>x0260b7fb3fd02e2e
</span></span></code></pre></div><h4 id=account-positions-4>Account Positions:<a hidden class=anchor aria-hidden=true href=#account-positions-4>#</a></h4><table><thead><tr><th>Position</th><th>Account</th><th>SQL</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td>launch</td><td><code>account_arguments[1]</code></td><td>PDA storing launch configuration and state</td></tr><tr><td>4</td><td>launchSigner</td><td><code>account_arguments[4]</code></td><td>Authority wallet for fund transfers</td></tr><tr><td>5</td><td>funder</td><td><code>account_arguments[5]</code></td><td>Wallet address of the user</td></tr></tbody></table><h4 id=instruction-data-3>Instruction Data:<a hidden class=anchor aria-hidden=true href=#instruction-data-3>#</a></h4><p>The refunded value is located in the second inner instruction&rsquo;s data payload. You can filter these inner instructions using the data&rsquo;s 8-byte discriminator.</p><p><img alt="Refund instruction inner data" loading=lazy src=/kai-site/data/metadao-launchpad-query-notes/images/SC_3.png></p><p><strong>Discriminator for inner instruction:</strong></p><table><thead><tr><th>Bytes</th><th>Value</th></tr></thead><tbody><tr><td>1-8</td><td><code>e445a52e51cb9a1d</code></td></tr></tbody></table><p><strong>Refunded USDC value:</strong></p><table><thead><tr><th>Value</th><th>Bytes</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>usdcRefunded</td><td>105-112</td><td>u64 (little-endian)</td><td>USDC amount</td></tr></tbody></table><p><em>Decoded</em>:</p><p>To query refund instructions, create two CTEs:</p><ol><li>Capture refund instructions by filtering on discriminator <code>0260b7fb3fd02e2e</code></li><li>Capture inner instructions containing the token amount by filtering on discriminator <code>e445a52e51cb9a1d</code></li></ol><p>Join on <code>tx_id</code> and <code>outer_instruction_index</code> to match events to their parent instructions.</p><p><strong>Example:</strong>
<a href=https://solscan.io/tx/zwtWBrKobmdpY5ZPW5vdLyd2KFByyipYdij8jtB8g8V7CgTXzq5DQBExbqujQQhd8vCrBJmvMDyja5NaR9naxuH>Transaction zwtWBrKobmdpY5ZPW5vdLyd2KFByyipYdij8jtB8g8V7CgTXzq5DQBExbqujQQhd8vCrBJmvMDyja5NaR9naxuH</a></p><p><a href=https://solscan.io/tx/zdrYEdQQrP2C8XDGkY8M9LgNLLUX54yFJGWVoMPaxWMYJBN5tRrDagDzaF6ZdP7raYmLjm7N5i8Nug9VamVwbnR>Transaction zdrYEdQQrP2C8XDGkY8M9LgNLLUX54yFJGWVoMPaxWMYJBN5tRrDagDzaF6ZdP7raYmLjm7N5i8Nug9VamVwbnR</a></p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://defi-kai.github.io/kai-site/>Kai — DeFi Research</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>